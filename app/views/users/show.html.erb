<div class='container-profil' style="background-color:#F3D0FF;text-align:center">

  <div class="navbar-picture mb-3" style="height: 56px;">
    <i class="fas fa-chevron-left" style="font-size: 25px;"></i>
  </div>

  <div class='intro mb-5'>
    <div class='user-photo'>
      <img class="avatar-profil" alt="avatar-profil" src="https://avatars.githubusercontent.com/u/95220236?v=4">
    </div>
    <div class='name'>
      <h1 class= "name-font"><%= @user.first_name %> <%= @user.last_name %></h1>
    </div>
    <div class='job'>
      <h2 class= "job-font"><%= @user.job_wanted %></h2>
    </div>
    <div class='experience'>
      <h4 class="experience-font"><%= @user.years_of_experience %> ans d'expérience</h3>
    </div>
  </div>

  <div class="container-values">
    <div class='values d-flex justify-content-center'>
      <% @user.skills.valeurs.each do |skill| %>
         <div class='value-each mx-2'>
          <%= skill.name %>
        </div>
      <% end %>
    </div>

    <div class='languages d-flex justify-content-center'>
      <% @user.all_languages.each do |language| %>
        <div class='language-each mx-1'>
          <%= language %>
        </div>
      <% end %>
    </div>
  </div>

  <div class='skills'>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="soft-skills-tab" data-bs-toggle="tab" data-bs-target="#soft-skills" type="button" role="tab" aria-controls="soft-skills" aria-selected="true">Soft Skills</button>
      </li>
          <button type="button" class="btn btn-skills" data-bs-toggle="modal" data-bs-target="#softSkillModal">
          +
          </button>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="hard-skills-tab" data-bs-toggle="tab" data-bs-target="#hard-skills" type="button" role="tab" aria-controls="hard-skills" aria-selected="false">Hard Skills</button>
      </li>
          <button type="button" class="btn btn-skills" data-bs-toggle="modal" data-bs-target="#hardSkillModal">
          +
          </button>
    </ul>


    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="soft-skills" role="tabpanel" aria-labelledby="soft-skills-tab">
        <ul class= "skills-border" style="list-style: none; padding-left:0px">
          <% @user.skills.soft_skills.each do |skill| %>
            <li><%= skill.name %></li>
          <% end %>
        </ul>

      </div>
      <div class="tab-pane fade" id="hard-skills" role="tabpanel" aria-labelledby="hard-skills-tab">
        <ul style="list-style: none; padding-left:0px">
          <% @user.skills.hard_skills.each do |skill| %>
            <li><%= skill.name %></li>
          <% end %>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="softSkillModal" tabindex="-1" aria-labelledby="softSkillModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title-skills" id="softSkillModalLabel">Ajouter une compétence</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
     <div data-controller="skill">
        <%= simple_form_for @user_skill do |f| %>
              <%= f.input :skill, collection: Skill.where(category: "soft_skill").reject{|skill| UserSkill.find_by(skill: skill, user: current_user)}, as: :check_boxes, input_html: { class: "skill-selector" },
                    item_wrapper_class: 'skill-item' %>

      </div>
      <div class="modal-footer">
        <%= f.submit "Ajouter des compétences +", class: "btn btn-new-skills" %>
      </div>
            <% end %>

    </div>
  </div>
</div>


<div class="modal fade" id="hardSkillModal" tabindex="-1" aria-labelledby="hardSkillModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title-skills" id="hardSkillModalLabel">Ajouter une compétence</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
     <div data-controller="skill">


        <%= simple_form_for @user_skill do |f| %>
          <%= f.input :skill, collection: Skill.where(category: "hard_skill").reject{|skill| UserSkill.find_by(skill: skill, user: current_user)}, as: :check_boxes, input_html: { class: "skill-selector" },
                item_wrapper_class: 'skill-item' %>

      </div>
      <div class="modal-footer">
        <%= f.submit "Ajouter des compétences +", class: "btn btn-new-skills" %>
      </div>
              <% end %>

    </div>
  </div>
</div>
